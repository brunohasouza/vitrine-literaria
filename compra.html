<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vitrine Literária</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/carrinho.css">
    <link rel="stylesheet" href="./css/compra.css">
</head>
<body>
    <main>        
        <header>
            <div class="container">
                <div class="header__container">
                    <div class="header__logo">
                            <a href="index.html">
                                <h1>Vitrine <spam class="branco">Literaria</spam></h1>
                            </a>
                    </div>
                    <div class="header__pesquisa">
                        <form action="" id="pesquisarForm">	
                            <div class="form-group" style="height: 100%;">
                                <select class="form-control" id="exampleFormControlSelect1">
                                    <option value="1" selected>Autor e Título</option>
                                    <option value="2" >Autor</option>
                                    <option value="3" >Título</option>
                                </select> 
                            </div>
                            <div class="input-group">
                                <input required type="text" id="pesquisarInputKeyword" class="form-control" placeholder="Pesquisar" aria-describedby="button-addon2">
                                <div class="input-group-append">
                                    <button class="btn btn-secondary" type="submit" id="button-addon2">
                                        <i class="material-icons">search</i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="header__usuario">
                        <div class="dropdown dropdown_deslogado">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="material-icons">account_circle</i>
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <button class="dropdown-item" data-toggle="modal" data-target="#loginModal">Login</button>
                                <button class="dropdown-item" data-toggle="modal" data-target="#cadastroModal">Cadastro</button>
                                <button class="dropdown-item" data-toggle="modal" data-target="#recuperarSenhaModal">Recuperar Senha</button>
                            </div>
                        </div>
                    </div>
                    <div class="header__usuarioLogado">                        
                        <div class="dropdown dropdown_logado">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Olá, Bruno!
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="usuario.html">Meu Perfil</a>
                                    <a class="dropdown-item" href="new_anuncio.html">Criar Anúncio</a>
                                    <button class="dropdown-item" id="botaoLogout">Sair</button>
                                </div>
                            </div>
                            <a href="carrinho.html" class="btn btn-secondary">
                                <i class="material-icons">shopping_cart</i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <section>
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="section__titulo--pesquisa">
                            <h1>Dados do Comprador</h1>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <p><strong>Nome: </strong>Bruno Henrique</p>
                                <p><strong>E-mail: </strong>souza.brunoha@gmail.com</p>
                                <p><strong>Telefone: </strong>(81) 98765-4321</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="section__titulo--pesquisa">
                            <h1>Endereço para entrega</h1>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card atual__endereco">
                            <div class="card-header">
                                Endereço cadastrado
                            </div>
                            <div class="card-body">
                                <p><strong>Logradouro: </strong>Rua Doutor Joaquim de Oliveira Valença</p>
                                <p><strong>Número: </strong>172</p>
                                <p><strong>Bairro: </strong>Bairro Novo</p>
                                <p><strong>Cidade: </strong>Olinda</p>
                                <p><strong>Estado: </strong>PE</p>
                                <p><strong>CEP: </strong>53130-110</p>
                                <p><strong>Complemento: </strong>Apt 202</p>
                                <div class="atualBtn">
                                    <button class="btn btn-secondary" disabled>Endereço atual</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card novo__endereco">
                            <div class="card-header">
                                Adicionar outro endereço
                            </div>
                            <div class="card-body">
                                <form action="">
                                    <span>CEP:</span>
                                    <input type="text" class="form-control" placeholder="53130110">
                                    <button type="submit" class="btn btn-secondary">OK</button>
                                </form>
                                <form action="">
                                    <div class="row">
                                        <div class="col-9">
                                            <input type="text" class="form-control" placeholder="Logradouro" readonly>
                                        </div>
                                        <div class="col-3">
                                            <input type="text" class="form-control" placeholder="Número">
                                        </div>
                                        <div class="col-6">
                                            <input type="text" class="form-control" placeholder="Bairro" readonly>
                                        </div>
                                        <div class="col-6">
                                            <input type="text" class="form-control" placeholder="Cidade" readonly>
                                        </div>
                                        <div class="col-6">
                                            <input type="text" class="form-control" placeholder="Estado" readonly>
                                        </div>
                                        <div class="col-6">
                                            <input type="text" class="form-control" placeholder="Complemento">
                                        </div>
                                        <div class="col-12 text-right">
                                            <button type="submit" class="btn btn-secondary">Usar este endereço</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="section__titulo--pesquisa">
                            <h1>Livros</h1>
                        </div>
                    </div>
                    
                    <div class="col-12" id="produtos">
                    </div>

                    <div class="col-12" id="total">
                        <div class="card carrinho__produto">
                            <div class="card-body text-right">
                                <span>Total do carrinho:</span>
                                <span>R$109,23</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="section__titulo--pesquisa">
                            <h1>Forma de Pagamento</h1>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card card__pagamento">
                            <div class="card-body">
                                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Cartão de Crédito</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Boleto Bancário</a>
                                    </li>
                                </ul>
                                <div class="tab-content" id="pills-tabContent">
                                    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                                        <form action="" class="form__pagamento">
                                            <div class="row">
                                                <div class="col-6">
                                                    <label for="">Número do Cartão</label>
                                                    <input class="form-control" type="text" placeholder="9999.9999.9999.9999">
                                                </div>
                                                <div class="col-6">
                                                    <label for="">Nome do Titular</label>
                                                    <input class="form-control" type="text" placeholder="Como impresso no cartão">
                                                </div>
                                                <div class="col-4">
                                                    <label for="">Validade</label>
                                                    <input class="form-control" type="text" placeholder="mm/aa">
                                                </div>
                                                <div class="col-4">
                                                    <label for="">Código de Segurança</label>
                                                    <input class="form-control" type="text" placeholder="999">
                                                </div>
                                                <div class="col-4">
                                                    <label for="">Parcelas</label>
                                                    <select class="form-control" name="" id="">
                                                        <option value="" selected>1x de R$100,00</option>
                                                        <option value="" selected>2x de R$50,00</option>
                                                        <option value="" selected>3x de R$33,33</option>
                                                        <option value="" selected>4x de R$25,00</option>
                                                        <option value="" selected>5x de R$20,00</option>
                                                        <option value="" selected>6x de R$16,66</option>
                                                        <option value="" selected>7 de R$14,28</option>
                                                        <option value="" selected>8x de R$12,50</option>
                                                        <option value="" selected>9x de R$11,11</option>
                                                        <option value="" selected>10x de R$10,00</option>
                                                        <option value="" selected>11x de R$9,09</option>
                                                        <option value="" selected>12x de R$8,33</option>
                                                    </select>
                                                </div>
                                                <div class="col-4">
                                                    <label for="">CPF do Titular</label>
                                                    <input class="form-control" type="text" placeholder="990.990.990-99">
                                                </div>
                                                <div class="col-4">
                                                    <label for="">Data de Nascimento</label>
                                                    <input class="form-control" type="text" placeholder="dd/mm/aaaa">
                                                </div>
                                                <div class="col-12 text-right">
                                                    <button class="btn btn-info" onclick="finalizarCompra(event)">Finalizar Compra</button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                                        <div class="boleto__botao text-center">
                                            <button class="btn btn-info" onclick="finalizarCompra(event)">
                                                Finalizar Compra
                                            </button>
                                        </div>
                                        <div class="boleto__texto">
                                            <p>Pague seu boleto até a data do vencimento.</p>
                                            <ul>
                                                <li>A confirmação do pagamento leva até 3 dias úteis.</li>
                                                <li>O pagamento pode ser realizado pela internet, casas lotéricas, caixas eletrônicos ou agências bancárias.</li>
                                                <li>O envio do pedido é realizado após a confirmação do pagamento pelo banco.</li>
                                            </ul>
                                            <p>Ao não efetuar o pagamento de compras realizadas por boleto,você pode acabar prejudicando o livreiro e outros compradores e ficar com essa opção de pagamento temporariamente desabilitada.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer>
            <div class="container">
                <div class="footer__container">
                    <img src="./imagens/leoa.png" alt="">
                    <address>Todos os direitos reservados</address>
                </div>
            </div>
        </footer>
    </main>

    <div class="modal fade" id="finalizarCompra" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel" style="color: green;">Compra realizada com sucesso!</h5>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="avaliarInputNota">Qual nota você daria para este vendedor?</label>

                            <div class="rating">
                                <input type="radio" id="star5" name="rating" value="5" />
                                <label class = "full" for="star5"></label>
    
                                <input type="radio" id="stars4" name="rating" value="4" />
                                <label class="half" for="stars4"></label>
    
                                <input type="radio" id="stars3" name="rating" value="4" />
                                <label class="half" for="stars3"></label>
    
                                <input type="radio" id="stars2" name="rating" value="4" />
                                <label class="half" for="stars2"></label>
    
                                <input type="radio" id="stars1" name="rating" value="4" />
                                <label class="half" for="stars1"></label>

                                <div class="clearfix"></div>
                            </div>

                        </div>
                        <div class="form-group">
                            <label for="avaliarInputComentario">Você pode deixar um comentário sobre este vendedor (opcional).</label>
                            <textarea class="form-control" placeholder="Insira aqui sua mensagem" id="avaliarInputComentario"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="finalizarAvaliacao(event)">Não quero avaliar</button>
                    <button type="button" class="btn btn-info" onclick="finalizarAvaliacao(event)">Enviar Avaliação</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="compraFinalizadaModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel" style="color: green;">Obrigado por comprar na Vitrine Literária!</h5>
                </div>
                <div class="modal-body">
                    <div class="compraFinalizada">
                        <i class="material-icons">mood</i>
                        <p class="text-center">Assim que o pagamento for confirmado, enviaremos um e-mail para você acompanhar a entrega do produto.</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-info" onclick="compraFinalizada(event)">Voltar para o site</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Login</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginInputEmail">E-mail</label>
                            <input required type="email" class="form-control" id="loginInputEmail" aria-describedby="emailHelp" placeholder="usuario@gmail.com">
                        </div>
                        <div class="form-group">
                            <label for="loginInputSenha">Senha</label>
                            <input required type="password" class="form-control" id="loginInputSenha" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">
                        </div>
                        <div class="login-submit">
                            <button type="submit" class="btn btn-lg btn-secondary">Entrar</button>
                        </div>
                    </form>
                    <div class="alert alert-danger" role="alert">Todos os campos são obrigatórios</div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="recuperarSenhaModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Recuperar Senha</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="recuperarSenhaForm">
                        <div class="form-group">
                            <label for="recuperarSenhaEmail">E-mail</label>
                            <input required type="email" class="form-control" id="recuperarSenhaEmail" aria-describedby="emailHelp" placeholder="usuario@gmail.com">
                        </div>
                        <div class="login-submit">
                            <button type="submit" class="btn btn-lg btn-secondary">Enviar Solicitação</button>
                        </div>
                    </form>
                    <div class="alert alert-danger" role="alert">Todos os campos são obrigatórios</div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="cadastroModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Cadastre-se</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="cadastroForm">
                        <div class="form-group">
                            <label for="cadastroInputNome">Nome</label>
                            <input required type="text" class="form-control" id="cadastroInputNome" placeholder="João da Silva">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputEmail">E-mail</label>
                            <input required type="email" class="form-control" id="cadastroInputEmail" aria-describedby="emailHelp" placeholder="usuario@gmail.com">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputSenha">Senha</label>
                            <input required type="password" class="form-control" id="cadastroInputSenha" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputRepetirSenha">Repetir Senha</label>
                            <input required type="password" class="form-control" id="cadastroInputRepetirSenha" placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputCEP">CEP</label>
                            <input required type="text" class="form-control" id="cadastroInputCEP" placeholder="53130-110">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputLogradouro">Logradouro</label>
                            <input required type="text" class="form-control" id="cadastroInputLogradouro" placeholder="Rua do Giriquiti">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputBairro">Bairro</label>
                            <input required type="text" class="form-control" id="cadastroInputBairro" placeholder="Boa Vista">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputCidade">Cidade</label>
                            <input required type="text" class="form-control" id="cadastroInputCidade" placeholder="Recife">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputCidade">Estado</label>
                            <input required type="text" class="form-control" id="cadastroInputCidade" placeholder="Pernambuco">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputNumero">Número</label>
                            <input required type="text" class="form-control" id="cadastroInputNumero" placeholder="172">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputComplemento">Complemento</label>
                            <input required type="text" class="form-control" id="cadastroInputComplemento" placeholder="Bloco A">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputReferência">Ponto de Referência</label>
                            <input required type="text" class="form-control" id="cadastroInputReferência" placeholder="Por trás do Shopping Boa Vista">
                        </div>
                        <div class="form-group">
                            <label for="cadastroInputTelefone">Telefone</label>
                            <input required type="text" class="form-control" id="cadastroInputTelefone" placeholder="(81) 98765-4321">
                        </div>
                        <div class="login-submit">
                            <button type="submit" class="btn btn-lg btn-secondary">Enviar Solicitação</button>
                        </div>
                    </form>
                    <div class="alert alert-danger" role="alert">Todos os campos são obrigatórios</div>
                </div>
            </div>
        </div>
    </div>

    <script src="./js/jquery.min.js"></script>
    <script src="./js/popper.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/header.js"></script>
    <script>        
        const livros = [{
            vendedor: 'Bruno Henrique',
            cidade: 'Recife',
            estado: 'PE',
            titulo: 'O Pequeno Príncipe',
            autor: 'Antoine de Saint-Exupéry',
            ano: 2013,
            idioma: 'Português',
            preco: '30,00',
            capa: 'imagens/capa1.jpg',
            id: 'produto1'
        },{
            vendedor: 'Luzonaldo Augusto',
            cidade: 'Recife',
            estado: 'PE',
            titulo: 'A Incendiária',
            autor: 'Stephen King',
            ano: 2018,
            idioma: 'Português',
            preco: '50,00',
            capa: 'imagens/capa2.jpg',
            id: 'produto2'
        }]

        const templateLivro = (livro) => {
            return `                
            <div class="card carrinho__produto" id="${livro.id}">
                <div class="card-header">
                    <span><strong>${livro.vendedor} - </strong>${livro.cidade}/${livro.estado}</span>
                </div>
                <div class="card-body">
                    <div class="carrinho__body">
                        <div class="carrinho__produto--imagem">
                            <img src="${livro.capa}" alt="" srcset="">
                        </div>
                        <div class="carrinho__produto--infos">
                            <div class="carrinho__produto--info">
                                <p>${livro.titulo}</p>
                                <p class="text-muted">${livro.autor}</p>
                                <p>Ano: <span>${livro.ano}</span></p>
                                <p>Idioma: <span>${livro.idioma}</span></p>
                            </div>
                            <div class="carrinho__produto--info">
                                <div>
                                    <p>R$${livro.preco}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="carrinho__footer" style="justify-content: flex-end;">
                        <form action="" onsubmit="submitFrete(event)" style="display: none;">
                            <span>Calcular frete:</span>
                            <input type="text" class="form-control" placeholder="CEP">
                            <button class="btn btn-secondary">OK</button>
                        </form>
                        <div style="display: block;">
                            <span id="fretePrazo">Prazo: 15 dias</span>
                            <span> | </span>
                            <span id="freteValor">Valor: R$14,63</span>
                        </div>
                    </div>
                </div>
            </div>
            `
        }

        document.querySelector('#produtos').innerHTML = livros.map(livro => templateLivro(livro)).join('')

        const finalizarCompra = (ev) => {
            ev.preventDefault()

            $('#finalizarCompra').modal('show')
        }

        const finalizarAvaliacao = (ev) => {
            ev.preventDefault()

            $('#finalizarCompra').modal('hide')
            $('#compraFinalizadaModal').modal('show')
        }

        const compraFinalizada = (ev) => {
            ev.preventDefault()
            window.location.href = 'index.html'
        }
    </script>
</body>
</html>
